<!DOCTYPE html>
<meta charset='utf-8'>
<script type='text/javascript' src='../build/lookie.js'></script>
<pre id="log"></pre>
<input type="text" id='text'><button id="submit">Set</button><button id="clear">Clear</button>
<script type='text/javascript'>
  var log = document.getElementById('log');
  var lookie = new Lookie('');

  lookie.on('change', function(key, newVal, oldVal) {
    log.innerText += "Change: " + key + ": " + oldVal + " -> " + newVal + "\n";
  });

  lookie.on('add', function(key, newVal) {
    log.innerText += "Add: " + key + ": " + newVal + "\n";
  });

  lookie.on('del', function(key) {
    log.innerText += "Del: " + key + "\n";
  });

  var input = document.getElementById('text');
  document.getElementById('submit').addEventListener('click', function(e) {
    e.preventDefault();
    lookie.set('test', input.value);
  });

  document.getElementById('clear').addEventListener('click', function(e) {
    e.preventDefault();
    lookie.del('test');
  });
</script>
